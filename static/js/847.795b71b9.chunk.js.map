{"version":3,"file":"static/js/847.795b71b9.chunk.js","mappings":"iOAmGA,UArFqB,WAAO,IAADA,EAAAC,EACjBC,GAAYC,EAAAA,EAAAA,MAAZD,QACRE,GAA8BC,EAAAA,EAAAA,WAAS,GAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAArCI,EAAOF,EAAA,GAAEG,EAAUH,EAAA,GAC1BI,GAA0BL,EAAAA,EAAAA,UAAS,MAAKM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAjCE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GAEhBG,GAAWC,EAAAA,EAAAA,MACXC,GAAcC,EAAAA,EAAAA,QAA2B,QAArBjB,EAAe,QAAfC,EAACa,EAASI,aAAK,IAAAjB,OAAA,EAAdA,EAAgBkB,YAAI,IAAAnB,EAAAA,EAAI,KAenD,IAbAoB,EAAAA,EAAAA,YAAU,WACHlB,IAILmB,EAAAA,EAAAA,IAfa,SAeenB,GACzBoB,MAAK,SAAAC,GACJV,EAASU,EACX,IACCC,MAAMC,EAAAA,GACNC,SAAQ,kBAAMjB,GAAW,EAAM,GACpC,GAAG,CAACP,IAECU,EAAL,CAGA,IACEe,EAOEf,EAPFe,YACAC,EAMEhB,EANFgB,MACAC,EAKEjB,EALFiB,eACAC,EAIElB,EAJFkB,aACAC,EAGEnB,EAHFmB,OACAC,EAEEpB,EAFFoB,aACAC,EACErB,EADFqB,SAGF,OACEC,EAAAA,EAAAA,MAACC,EAAAA,GAAY,CAAAC,SAAA,EACXC,EAAAA,EAAAA,KAACC,EAAAA,GAAU,CAACC,GAAIvB,EAAYwB,QAAQJ,SAAE,cACrC5B,IAAW6B,EAAAA,EAAAA,KAACI,EAAAA,GAAM,IAClB7B,IACCsB,EAAAA,EAAAA,MAAAQ,EAAAA,SAAA,CAAAN,SAAA,EACEF,EAAAA,EAAAA,MAACS,EAAAA,GAAS,CAAAP,SAAA,EACRC,EAAAA,EAAAA,KAAA,OACEO,IACEjB,EAAW,iCAAAkB,OAC0BlB,GACjC,kEAENmB,IAAKlB,EACLmB,MAAM,SAERb,EAAAA,EAAAA,MAACc,EAAAA,GAAS,CAAAZ,SAAA,EACRC,EAAAA,EAAAA,KAAA,MAAAD,SAAKP,KACLK,EAAAA,EAAAA,MAAA,KAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,kBAAiB,IAAEN,MAExBI,EAAAA,EAAAA,MAAA,KAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,YAAY,IACdL,EAAOkB,KAAI,SAAAC,GAAA,IAAGC,EAAID,EAAJC,KAAI,SAAAN,OAAUM,EAAKC,cAAa,cAEjDlB,EAAAA,EAAAA,MAAA,KAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,aAAY,IAAEJ,MAEnBE,EAAAA,EAAAA,MAAA,KAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,cAAa,IAAEH,YAIxBI,EAAAA,EAAAA,KAAA,MAAAD,SAAI,6BACJF,EAAAA,EAAAA,MAACmB,EAAAA,EAAY,CAAAjB,SAAA,EACXC,EAAAA,EAAAA,KAAA,MAAAD,UACEC,EAAAA,EAAAA,KAACiB,EAAAA,GAAI,CAACf,GAAG,OAAMH,SAAC,YAElBC,EAAAA,EAAAA,KAAA,MAAAD,UACEC,EAAAA,EAAAA,KAACiB,EAAAA,GAAI,CAACf,GAAG,UAASH,SAAC,kBAGvBC,EAAAA,EAAAA,KAACkB,EAAAA,SAAQ,CAACC,UAAUnB,EAAAA,EAAAA,KAAA,OAAAD,SAAK,eAAiBA,UACxCC,EAAAA,EAAAA,KAACoB,EAAAA,GAAM,WAtDjB,CA4DF,C","sources":["pages/MovieDetails.js"],"sourcesContent":["import { Loader } from '../components';\nimport { Suspense, useEffect, useState, useRef } from 'react';\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport { fetchMovieDetails } from '../services/api';\nimport { onFetchError } from 'services/showError';\nimport {\n  AddListStyle,\n  CardStyle,\n  SectionStyle,\n  WrapStyle,\n  StyledLink,\n} from './Pages.styled';\nconst endPoint = '/movie';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [loading, setLoading] = useState(true);\n  const [movie, setMovie] = useState(null);\n\n  const location = useLocation();\n  const backLinkRef = useRef(location.state?.from ?? '/');\n\n  useEffect(() => {\n    if (!movieId) {\n      return;\n    }\n\n    fetchMovieDetails(endPoint, movieId)\n      .then(data => {\n        setMovie(data);\n      })\n      .catch(onFetchError)\n      .finally(() => setLoading(false));\n  }, [movieId]);\n\n  if (!movie) {\n    return;\n  }\n  const {\n    poster_path,\n    title,\n    original_title,\n    release_date,\n    genres,\n    vote_average,\n    overview,\n  } = movie;\n\n  return (\n    <SectionStyle>\n      <StyledLink to={backLinkRef.current}>{'<<<< BACK'}</StyledLink>\n      {loading && <Loader />}\n      {movie && (\n        <>\n          <WrapStyle>\n            <img\n              src={\n                poster_path\n                  ? `http://image.tmdb.org/t/p/w342${poster_path}`\n                  : 'https://www.braasco.com//ASSETS/IMAGES/ITEMS/ZOOM/no_image.jpeg'\n              }\n              alt={title}\n              width=\"200\"\n            />\n            <CardStyle>\n              <h3>{original_title}</h3>\n              <p>\n                <b>Release date:</b> {release_date}\n              </p>\n              <p>\n                <b>Genres:</b>{' '}\n                {genres.map(({ name }) => `${name.toLowerCase()} | `)}\n              </p>\n              <p>\n                <b>Ranking:</b> {vote_average}\n              </p>\n              <p>\n                <b>Overview:</b> {overview}\n              </p>\n            </CardStyle>\n          </WrapStyle>\n          <h3>Additional information:</h3>\n          <AddListStyle>\n            <li>\n              <Link to=\"cast\">Cast</Link>\n            </li>\n            <li>\n              <Link to=\"reviews\">Reviews</Link>\n            </li>\n          </AddListStyle>\n          <Suspense fallback={<div>Loading...</div>}>\n            <Outlet />\n          </Suspense>\n        </>\n      )}\n    </SectionStyle>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["_location$state$from","_location$state","movieId","useParams","_useState","useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","movie","setMovie","location","useLocation","backLinkRef","useRef","state","from","useEffect","fetchMovieDetails","then","data","catch","onFetchError","finally","poster_path","title","original_title","release_date","genres","vote_average","overview","_jsxs","SectionStyle","children","_jsx","StyledLink","to","current","Loader","_Fragment","WrapStyle","src","concat","alt","width","CardStyle","map","_ref","name","toLowerCase","AddListStyle","Link","Suspense","fallback","Outlet"],"sourceRoot":""}