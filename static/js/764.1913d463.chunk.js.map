{"version":3,"file":"static/js/764.1913d463.chunk.js","mappings":"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","sources":["pages/Movies.js","services/api.js","services/showError.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { Loader, MoviesList, SearchBar } from '../components';\nimport { Notify } from 'notiflix';\nimport { fetchSearchMovie } from '../services/api';\nimport { onFetchError, paramsForNotify } from 'services/showError';\nimport { SectionStyle } from './Pages.styled';\n\n// import { useSearchParams, useState, useLocation, Link } from 'react-router-dom';\n\nconst endPoint = '/search/movie';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [films, setFilms] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const searchQuery = searchParams.get('query');\n\n  // const location = useLocation();\n\n  useEffect(() => {\n    if (!searchQuery) return;\n\n    if (films.length > 0) {\n      return;\n    }\n    setLoading(true);\n    fetchSearchMovie(endPoint, searchQuery)\n      .then(data => {\n        setFilms(data.results);\n      })\n      .catch(onFetchError)\n      .finally(() => setLoading(false));\n  }, [films, searchQuery]);\n\n  const onSubmitSearchBar = value => {\n    const searchValue = value.trim().toLowerCase().split(' ').join('+');\n\n    if (searchValue === '') {\n      setSearchParams({});\n      setFilms([]);\n      Notify.info('Enter your request, please!', paramsForNotify);\n      return;\n    }\n\n    if (searchValue === searchQuery) {\n      Notify.info('Enter new request, please!', paramsForNotify);\n      return;\n    }\n    setSearchParams({ query: searchValue });\n    setFilms([]);\n  };\n\n  return (\n    <>\n      <SearchBar onSubmitSearchBar={onSubmitSearchBar} value={searchQuery} />\n      {/* <Link state={{ from: location }} \n      //key={} to={``} \n      /> */}\n      <SectionStyle>\n        {loading && <Loader />}\n        <MoviesList films={films} />\n      </SectionStyle>\n    </>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst KEY = '7717fd5330fce9326df9ad18aa597ac1';\nconst URL = 'https://api.themoviedb.org/3/';\n\nexport const fetchTrendingMovies = async endPoint => {\n  const url = `${URL}${endPoint}?api_key=${KEY}`;\n  const response = await axios.get(url);\n  return response.data;\n};\n\nexport const fetchSearchMovie = async (endPoint, query) => {\n  const url = `${URL}${endPoint}?api_key=${KEY}&query=${query}`;\n  const response = await axios.get(url);\n  return response.data;\n};\n\nexport const fetchMovieDetails = async (endPoint, movieId) => {\n  const url = `${URL}${endPoint}/${movieId}?api_key=${KEY}`\n  const response = await axios.get(url);\n  return response.data;\n};\n\n","import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nexport const paramsForNotify = {\n  position: 'center-center',\n  timeout: 3000,\n  width: '400px',\n  fontSize: '24px',\n};\n\nexport function onFetchError() {\n  Notify.failure(\n    'Oops! Something went wrong! Try reloading the page or make another choice!',\n\n    paramsForNotify\n  );\n}\n"],"names":["_useSearchParams","useSearchParams","_useSearchParams2","_slicedToArray","searchParams","setSearchParams","_useState","useState","_useState2","films","setFilms","_useState3","_useState4","loading","setLoading","searchQuery","get","useEffect","length","fetchSearchMovie","then","data","results","catch","onFetchError","finally","_jsxs","_Fragment","children","_jsx","SearchBar","onSubmitSearchBar","value","searchValue","trim","toLowerCase","split","join","Notify","paramsForNotify","query","SectionStyle","Loader","MoviesList","KEY","URL","fetchTrendingMovies","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","endPoint","url","response","_context","prev","next","concat","axios","sent","abrupt","stop","_x","apply","arguments","_ref2","_callee2","_context2","_x2","_x3","fetchMovieDetails","_ref3","_callee3","movieId","_context3","_x4","_x5","position","timeout","width","fontSize"],"sourceRoot":""}